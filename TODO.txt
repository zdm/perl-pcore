- check Lazarus RPC;

- user session token;

- ExtJS fields error - status 200, success FALSE;

api response - hash, incapsulated status, reason and results hash;
api call - args - ArrayRef, expand;
api callback - status object;


RPC func - get array, return status XXX, $result;
RPC callback - get status, $status->{result};

API func - get array, return status XXX, $result;
API callback - get status, $status->{result};

API call always called via API router, so, API router MUST always return status object;


-----------------------------------------------------------------------------------------------

- LOG SUBSYSTEM:
    - write logs to socket;

- SQL:
    - SQL - always get new connection for transaction;
    - limit max. possible connections;
    - do not use state in reusable classes;
    - check, that SQLite clone, clone also attached databases;

- APP & APP API:
    - move roles and permissions from API to App;
    - auth tags;
    - stack similar requests everywhere;

    - blocking api call;
    - api client - blocking call;
    - blocking api auth methods;


- RPC
    - combine RPC + WebSocket;
        - bidirectional API protocol;
        - WebSocket message broker;

- HANDLE and PROXY refactoring
    - use common connection status + reason errors registry, read headers error, connet error, proxy errors, etc ...;

    - pcore::ae::handle - use reason instead of message in error callbacks;
    - http - do not use header object, use direct cache;
    - persistent -> keepalive_timeout in HTTP client;
